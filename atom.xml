<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>ç¾¸å¼±çš„å°é‡‘é±¼</title>
  <subtitle>æ”¶é›†ç ”ç©¶å‰ç«¯æŠ€æœ¯ï¼Œå¶å°”å®¢ä¸²ç¿»è¯‘æœ‰è¶£æ—¥æ¨ &amp; åšæ–‡</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://ykloveyxk.github.io/"/>
  <updated>2017-03-21T12:36:17.000Z</updated>
  <id>https://ykloveyxk.github.io/</id>
  
  <author>
    <name>ç¾¸å¼±çš„å°é‡‘é±¼</name>
    <email>562872810@qq.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>vue-login é€šè¿‡ä¸€ä¸ªé¡¹ç›®å¸¦ä½ èµ°è¿›vueå…¨æ ˆå¼€å‘</title>
    <link href="https://ykloveyxk.github.io/2017/03/21/vue-login-%E9%80%9A%E8%BF%87%E4%B8%80%E4%B8%AA%E9%A1%B9%E7%9B%AE%E5%B8%A6%E4%BD%A0%E8%B5%B0%E8%BF%9Bvue%E5%85%A8%E6%A0%88%E5%BC%80%E5%8F%91/"/>
    <id>https://ykloveyxk.github.io/2017/03/21/vue-login-é€šè¿‡ä¸€ä¸ªé¡¹ç›®å¸¦ä½ èµ°è¿›vueå…¨æ ˆå¼€å‘/</id>
    <published>2017-03-21T12:18:32.000Z</published>
    <updated>2017-03-21T12:36:17.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p> è¿™æ˜¯ä¸€ä¸ªåŸºäº vue &amp; axios &amp; nodejs(express) çš„ç™»å½•ï¼æ³¨å†Œdemoï¼Œé¢å‘ vue åˆå­¦è€…ï¼Œåœºæ™¯è™½ç®€å•ï¼Œä½†äº”è„ä¿±å…¨ã€‚æœ‰å‰åå°ï¼Œæ¶µç›–éå¸¸å¤šçš„ vue åŠå…¶ç›¸å…³æŠ€æœ¯çš„åŸºæœ¬æ“ä½œã€‚æœ‰è¯¦ç»†çš„æ³¨é‡Šï¼Œå¸®åŠ©å¤§å®¶å¿«é€Ÿä¸Šæ‰‹ vue ã€‚ä¸”æˆ‘æ•´ç†äº†ä¸€äº›åœ¨vueå…¨æ ˆå¼€å‘è¿‡ç¨‹ä¸­ï¼Œæœ‰å¯èƒ½ä¼šç”¨åˆ°çš„æŠ€æœ¯æ–‡ç« ï¼Œå¸Œæœ›å¤§å®¶èƒ½åœ¨è¿™äº›å‰è¾ˆä»¬èº«ä¸Šæœ‰æ‰€æ”¶è·ã€‚  </p>
<p>å½“ç„¶å¦‚æœæ‚¨è§‰å¾—è¿™ç¯‡æ–‡ç«  or è¿™ä¸ªé¡¹ç›®å¯¹æ‚¨çš„å­¦ä¹ æœ‰æ‰€å¸®åŠ©ï¼Œè¯·ä¸åç‚¹ä¸ª star é¼“åŠ±ä¸€ä¸‹ï¼Œå½“ç„¶å¦‚æœå­˜åœ¨é—®é¢˜ï¼Œä¹Ÿéå¸¸å¸Œæœ›æ‚¨èƒ½æäº¤ issues æˆ–è€…åœ¨ <a href="https://ykloveyxk.github.io/">æˆ‘çš„åšå®¢</a>ä»»æ„æ–‡ç« ä¸‹ç•™è¨€ï¼Œæˆ‘ä¼šåŠæ—¶å¤„ç†å›å¤ï¼Œå’Œå¤§å®¶ä¸€èµ·è¿›æ­¥ã€‚  </p>
</blockquote>
<a id="more"></a>
<h2 id="é¡¹ç›®æŠ€æœ¯æ ˆ"><a href="#é¡¹ç›®æŠ€æœ¯æ ˆ" class="headerlink" title="é¡¹ç›®æŠ€æœ¯æ ˆ"></a>é¡¹ç›®æŠ€æœ¯æ ˆ</h2><hr>
<ul>
<li>å‰å°ï¼švue &amp; vue-router &amp; vuex &amp; vue-cli(webpack) &amp; element-ui</li>
<li>åå°ï¼š nodejs (express)</li>
<li>å‰åå°äº¤äº’ï¼š axios</li>
<li>å•ç‚¹ç™»å½•ï¼š jsonwebtoken</li>
</ul>
<h2 id="Build-Setup"><a href="#Build-Setup" class="headerlink" title="Build Setup"></a>Build Setup</h2><hr>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># install dependencies</span></div><div class="line">npm install</div><div class="line"></div><div class="line"><span class="comment"># serve with hot reload at localhost:8080</span></div><div class="line">npm run dev</div><div class="line"></div><div class="line"><span class="comment"># build for production with minification</span></div><div class="line">npm run build</div><div class="line"></div><div class="line"><span class="comment"># build for production and view the bundle analyzer report</span></div><div class="line">npm run build --report</div><div class="line"></div><div class="line"><span class="comment"># start server</span></div><div class="line">node server.js</div></pre></td></tr></table></figure>
<h2 id="é¡¹ç›®å¼€å‘æ¨èé˜…è¯»"><a href="#é¡¹ç›®å¼€å‘æ¨èé˜…è¯»" class="headerlink" title="é¡¹ç›®å¼€å‘æ¨èé˜…è¯»"></a>é¡¹ç›®å¼€å‘æ¨èé˜…è¯»</h2><hr>
<blockquote>
<p>å› ä¸ºé¡¹ç›®éš¾åº¦å¹¶ä¸æ˜¯å¾ˆé«˜ï¼Œä¸”æˆ‘ä¹Ÿåœ¨ä»£ç ä¸­å†™äº†è¾ƒå¤šæ³¨é‡Šï¼Œæ‰€ä»¥æˆ‘ä¸ä¼šç»†èŠ‚åˆ°è¡Œå»è§£é‡Šä»£ç ï¼Œè€Œæ˜¯ä¼šæœé›†ã€åˆ†äº«ä¸€äº›å‰è¾ˆä»¬ä¹¦å†™çš„ç›¸å…³æŠ€æœ¯æ–‡ç« ï¼Œç›¸ä¿¡å¤§å®¶è¸©åœ¨å·¨äººçš„è‚©è†€ä¸Šï¼Œèƒ½å­¦åˆ°æ›´å¤šã€‚  </p>
</blockquote>
<h3 id="1-vue-cli-ç”Ÿæˆé¡¹ç›®ä¸»ä½“æ¡†æ¶"><a href="#1-vue-cli-ç”Ÿæˆé¡¹ç›®ä¸»ä½“æ¡†æ¶" class="headerlink" title="1. vue-cli ç”Ÿæˆé¡¹ç›®ä¸»ä½“æ¡†æ¶"></a>1. vue-cli ç”Ÿæˆé¡¹ç›®ä¸»ä½“æ¡†æ¶</h3><p>ä½¿ç”¨ vue-cli çš„ä¼˜ç‚¹æ˜¯æ–¹ä¾¿å¿«æ·ï¼Œèƒ½å¿«é€Ÿç”Ÿæˆé¡¹ç›®çš„ä¸»ä½“ç»“æ„ã€‚ä½†ä¸èƒ½ä¸€å‘³ä¾èµ–è¿™ç§å¼€å‘æ–¹å¼ï¼Œè¿˜æ˜¯è¦äº†è§£å…¶ä¸­çš„æŠ€æœ¯ç»†èŠ‚ã€‚æ­¤å¤„æ¨èå‡ ç¯‡æ–‡ç« ï¼š</p>
<ul>
<li><a href="https://github.com/vuejs/vue-cli" target="_blank" rel="external">vue-cliå®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://doc.webpack-china.org/" target="_blank" rel="external">webpack2 ä¸­æ–‡æ–‡æ¡£</a></li>
<li><a href="https://juejin.im/post/584e48b2ac502e006c74a120" target="_blank" rel="external">vue-cli#2.0 webpack é…ç½®åˆ†æ - æ˜é‡‘</a>ï¼ˆå¼ºçƒˆæ¨èï¼‰</li>
</ul>
<h3 id="2-åå°å…¥å£æ–‡ä»¶-server-js"><a href="#2-åå°å…¥å£æ–‡ä»¶-server-js" class="headerlink" title="2. åå°å…¥å£æ–‡ä»¶ server.js"></a>2. åå°å…¥å£æ–‡ä»¶ server.js</h3><p>åå°ä¸»è¦ä½œç”¨æ˜¯æ¥æ”¶å‰å°è¯·æ±‚ï¼Œå¤„ç†å®Œæˆåè¿”å›ä¸€ä¸ªå«æœ‰æ‰€éœ€æ•°æ®æˆ–çŠ¶æ€çš„apiæ¥å£ï¼Œä¾›å‰å°å»è°ƒç”¨ã€‚è¿™éœ€è¦ä½ äº†è§£ç†Ÿæ‚‰ nodejs æˆ–ä»»æ„ä¸€ç§åç«¯è¯­è¨€ï¼Œä»¥ nodejs ä¸ºä¾‹ï¼Œæœ‰ä»¥ä¸‹æ–‡ç« æ¨èä½ å»é˜…è¯»ï¼š</p>
<ul>
<li><a href="http://javascript.ruanyifeng.com/" target="_blank" rel="external">é˜®ä¸€å³°è€å¸ˆçš„ js æ•™ç¨‹ï¼ˆå«nodeï¼‰</a> ï¼ˆå¼ºçƒˆå»ºè®®æŠŠjséƒ¨åˆ†ä¹Ÿçœ‹çœ‹ï¼‰</li>
<li><a href="https://www.zybuluo.com/XiangZhou/note/208532" target="_blank" rel="external">Express 4.x API - ä½œä¸šéƒ¨è½ Cmd Markdown ç¼–è¾‘é˜…è¯»å™¨</a>ï¼ˆexpress 4.x çš„ä¸­æ–‡æ–‡æ¡£ï¼‰</li>
<li><a href="http://koa.bootcss.com/" target="_blank" rel="external">koa</a> ï¼ˆæœ€è¿‘å¸¸å‡ºç°çš„ä¸€ä¸ªnodeæ¡†æ¶ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å»äº†è§£ä¸€ä¸‹ ï¼‰</li>
</ul>
<h3 id="3-axioså‰åå°äº¤äº’"><a href="#3-axioså‰åå°äº¤äº’" class="headerlink" title="3.  axioså‰åå°äº¤äº’"></a>3.  axioså‰åå°äº¤äº’</h3><p>vue å’Œ node çš„äº¤äº’è¿˜æ˜¯ä¸»è¦é‡‡ç”¨ ajax æ¥è¿›è¡Œï¼Œæ­¤å¤„å°±ä»‹ç»ä¸€ä¸ªä¸»æµäº¤äº’å·¥å…· axiosï¼Œå½“ç„¶åˆ«çš„å·¥å…·ä¾‹å¦‚ vue-resourceã€jquery éƒ½å¯ä»¥ã€‚ä½†æ˜¯ vue-resource ä¸ç»´æŠ¤äº†ï¼Œjqueryå¦‚æœåªæ˜¯ä¸ºäº† ajax å°±å¼•å…¥åˆå¤ªåºå¤§ï¼Œæ‰€ä»¥æˆ‘ä¸ªäººæ˜¯æ¯”è¾ƒæ¨èaxiosã€‚æ­¤å¤„ä¹…æ¨èè¿™å‡ ç¯‡æ–‡ç« å§ï¼š</p>
<ul>
<li><a href="https://juejin.im/entry/58b2532f2f301e006c0a2d80/detail" target="_blank" rel="external">axioså…¨æ”»ç•¥</a> ï¼ˆæˆ‘å†™çš„ï¼Œç¾å°„ğŸ˜³ï¼Œä½†æˆ‘ä¸ªäººè§‰å¾—å¾ˆå€¼å¾—é˜…è¯»ï¼‰</li>
<li><a href="https://blog.ygxdxx.com/2017/02/01/Vuex2&amp;Axios-Develop/" target="_blank" rel="external">Vuex2å’ŒAxiosçš„å¼€å‘ | Hopeâ€™s Blog</a> ï¼ˆä¹Ÿæ˜¯æ˜é‡‘ä½œè€…ï¼Œè®©ç†è®ºç…§è¿›ç°å®ï¼‰</li>
</ul>
<h3 id="4-vue-å…¨å®¶æ¡¶"><a href="#4-vue-å…¨å®¶æ¡¶" class="headerlink" title="4. vue å…¨å®¶æ¡¶"></a>4. vue å…¨å®¶æ¡¶</h3><p>é¡¾åæ€ä¹‰å°±æ˜¯æˆ‘ä»¬ç†ŸçŸ¥çš„ vue + vue-router + vuex + â€¦ ï¼Œ<br>è™½ç„¶è¿˜æœ‰å¾ˆå¤šçš„ç»„ä»¶ï¼Œä½†æ˜¯åŸºç¡€éƒ½æ˜¯ å‰ä¸‰ä¸ªã€‚è¿™å—å„¿é¦–æ¨å®˜æ–¹æ–‡æ¡£ï¼Œæˆ‘ä¸ªäººè®¤ä¸º vue çš„æˆåŠŸé™¤å¼€è‡ªèº«ç´ è´¨è¿‡ç¡¬å¤–ï¼Œæœ€å¤§çš„ä¼˜åŠ¿å°±æ˜¯æ–‡æ¡£å†™çš„éå¸¸çš„æµ…æ˜¾æ˜“æ‡‚ï¼æ‰€ä»¥å­¦ vue ä¸€å®šè¦å¤šè¯»å®˜æ–¹æ–‡æ¡£ã€‚æ­¤å¤„æ”¾å‡ºè¿æ¥ï¼š</p>
<ul>
<li><a href="https://cn.vuejs.org/" target="_blank" rel="external">Vue.js</a></li>
<li><a href="https://router.vuejs.org/zh-cn/" target="_blank" rel="external">Vue-router</a></li>
<li><a href="https://vuex.vuejs.org/zh-cn/" target="_blank" rel="external">Vuex</a></li>
</ul>
<p>å½“ç„¶æ˜é‡‘ä¸Šä¹Ÿæœ‰è®¸å¤šçš„è¯¦è§£æ–‡ç« ï¼Œä¹Ÿæ¨èå¤§å®¶å»çœ‹çœ‹ã€‚</p>
<h3 id="5-ç»„ä»¶åº“"><a href="#5-ç»„ä»¶åº“" class="headerlink" title="5. ç»„ä»¶åº“"></a>5. ç»„ä»¶åº“</h3><p>éšç€ vue çš„ä¸æ–­å‘å±•ï¼Œç¤¾åŒºè¶Šæ¥è¶Šæ´»è·ƒï¼Œå› æ­¤äº§ç”Ÿäº†è®¸å¤šç»„ä»¶åº“ï¼Œæ­¤å¤„æˆ‘å°±æ¨èä¸€ä¸ªæˆ‘ä¸ªäººä½¿ç”¨çš„æœ€å¤šçš„ç”±é¥¿äº†ä¹ˆå›¢é˜Ÿå¼€å‘çš„ç»„ä»¶åº“element-uiã€‚</p>
<ul>
<li><a href="http://element.eleme.io/#/zh-CN" target="_blank" rel="external">element-ui</a></li>
</ul>
<h3 id="demo"><a href="#demo" class="headerlink" title="demo"></a>demo</h3><p>å¼€å‘å…¶å®é™¤äº†å†¥æ€è‹¦æƒ³å¤–ï¼Œå¾ˆå¤šæ—¶å€™è¦å¤šè¯»åˆ«äººçš„æºç ï¼Œä»ä¸­æ‰èƒ½æœ‰æ‰€å¯å‘ã€‚æ”¾å‡ºå‡ ä¸ªdemoï¼š</p>
<ul>
<li><a href="https://github.com/superman66/vue-axios-github" target="_blank" rel="external">ä¸€ä¸ªä½¿ç”¨ github apiå†™çš„ç™»å½•ç¨‹åº</a> ï¼ˆæ˜é‡‘ä½œè€…ï¼Œæˆ‘çš„è¿™ç¯‡æ–‡ç« ä¹Ÿæ˜¯å—ä»–å¯å‘ï¼‰</li>
<li><a href="https://molunerfinn.com/Vue+Koa/" target="_blank" rel="external">vue + koa + mysql çš„ todos demo </a>ï¼ˆæƒ³äº†è§£ koa + mysql å¦‚ä½•åœ¨vueä¸­è¿ç”¨å¯ä»¥çœ‹çœ‹ï¼‰</li>
</ul>
<h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>å½“ç„¶çº¸ä¸Šå­¦æ¥ç»ˆè§‰æµ…ï¼Œç»çŸ¥æ­¤äº‹è¦èº¬è¡Œã€‚å­¦å®Œç†è®ºå°±éœ€è¦å»å®è·µï¼Œæ‰€ä»¥å¸Œæœ›å¤§å®¶å¤šå¤šå»çœ‹çœ‹åˆ«äººçš„ä»£ç ï¼Œç„¶åå†™å†™å°demoã€‚ä¸€å®šä¼šäº‹åŠåŠŸå€ã€‚å¸Œæœ›å’Œå¤§å®¶å…±åŒè¿›æ­¥ã€‚</p>
<p>ç„¶åæˆ‘æ— æ„å‘ç°æœ‰äººæœªç»è¿‡æˆ‘åŒæ„å°±è½¬å‘æˆ‘çš„æ–‡ç« ã€‚è€Œä¸”æœªå‡ºç°ä»»ä½•æˆ‘çš„ç›¸å…³ä¿¡æ¯ã€‚æˆ‘çš„è§‚ç‚¹æ˜¯æˆ‘å†™æ–‡ç« æ˜¯ä¸ºäº†æ–¹ä¾¿å¤§å®¶ï¼Œç£ä¿ƒè‡ªå·±ï¼Œæ‰€ä»¥è½¬å°±è½¬äº†ï¼Œä¸éœ€è¦æˆ‘çš„åŒæ„ï¼Œä½†æ˜¯å“ªæ€•ä¸å‡ºç°æˆ‘çš„åå­—ï¼Œä¹Ÿè¯·åŠ¡å¿…æ³¨ä¸€ä¸ª <strong>è½¬</strong> å­—ï¼Œä¸è¦æŠŠä»–å½“ä½œè‡ªå·±çš„æ–‡ç« æ¥ç”¨ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt; è¿™æ˜¯ä¸€ä¸ªåŸºäº vue &amp;amp; axios &amp;amp; nodejs(express) çš„ç™»å½•ï¼æ³¨å†Œdemoï¼Œé¢å‘ vue åˆå­¦è€…ï¼Œåœºæ™¯è™½ç®€å•ï¼Œä½†äº”è„ä¿±å…¨ã€‚æœ‰å‰åå°ï¼Œæ¶µç›–éå¸¸å¤šçš„ vue åŠå…¶ç›¸å…³æŠ€æœ¯çš„åŸºæœ¬æ“ä½œã€‚æœ‰è¯¦ç»†çš„æ³¨é‡Šï¼Œå¸®åŠ©å¤§å®¶å¿«é€Ÿä¸Šæ‰‹ vue ã€‚ä¸”æˆ‘æ•´ç†äº†ä¸€äº›åœ¨vueå…¨æ ˆå¼€å‘è¿‡ç¨‹ä¸­ï¼Œæœ‰å¯èƒ½ä¼šç”¨åˆ°çš„æŠ€æœ¯æ–‡ç« ï¼Œå¸Œæœ›å¤§å®¶èƒ½åœ¨è¿™äº›å‰è¾ˆä»¬èº«ä¸Šæœ‰æ‰€æ”¶è·ã€‚  &lt;/p&gt;
&lt;p&gt;å½“ç„¶å¦‚æœæ‚¨è§‰å¾—è¿™ç¯‡æ–‡ç«  or è¿™ä¸ªé¡¹ç›®å¯¹æ‚¨çš„å­¦ä¹ æœ‰æ‰€å¸®åŠ©ï¼Œè¯·ä¸åç‚¹ä¸ª star é¼“åŠ±ä¸€ä¸‹ï¼Œå½“ç„¶å¦‚æœå­˜åœ¨é—®é¢˜ï¼Œä¹Ÿéå¸¸å¸Œæœ›æ‚¨èƒ½æäº¤ issues æˆ–è€…åœ¨ &lt;a href=&quot;https://ykloveyxk.github.io/&quot;&gt;æˆ‘çš„åšå®¢&lt;/a&gt;ä»»æ„æ–‡ç« ä¸‹ç•™è¨€ï¼Œæˆ‘ä¼šåŠæ—¶å¤„ç†å›å¤ï¼Œå’Œå¤§å®¶ä¸€èµ·è¿›æ­¥ã€‚  &lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="vuejs javascript" scheme="https://ykloveyxk.github.io/tags/vuejs-javascript/"/>
    
  </entry>
  
  <entry>
    <title>axioså…¨æ”»ç•¥</title>
    <link href="https://ykloveyxk.github.io/2017/02/25/axios%E5%85%A8%E6%94%BB%E7%95%A5/"/>
    <id>https://ykloveyxk.github.io/2017/02/25/axioså…¨æ”»ç•¥/</id>
    <published>2017-02-24T19:07:19.000Z</published>
    <updated>2017-02-25T08:59:27.000Z</updated>
    
    <content type="html"><![CDATA[<p>éšç€ vuejs ä½œè€…å°¤é›¨æºªå‘å¸ƒæ¶ˆæ¯ï¼Œä¸å†ç»§ç»­ç»´æŠ¤vue-resourceï¼Œå¹¶æ¨èå¤§å®¶ä½¿ç”¨ axios å¼€å§‹ï¼Œaxios è¢«è¶Šæ¥è¶Šå¤šçš„äººæ‰€äº†è§£ã€‚æœ¬æ¥æƒ³åœ¨ç½‘ä¸Šæ‰¾æ‰¾è¯¦ç»†æ”»ç•¥ï¼Œçªç„¶å‘ç°ï¼Œaxios çš„å®˜æ–¹æ–‡æ¡£æœ¬èº«å°±éå¸¸è¯¦ç»†ï¼ï¼æœ‰è¿™ä¸ªè¿˜è¦ä»€ä¹ˆè‡ªè¡Œè½¦ï¼ï¼æ‰€ä»¥æ¨èå¤§å®¶å­¦ä¹ è¿™ç§åº“ï¼Œæœ€å¥½è¯¦ç»†é˜…è¯»å…¶å®˜æ–¹æ–‡æ¡£ã€‚å¤§æ¦‚ç¿»è¯‘äº†ä¸€ä¸‹ axios çš„å®˜æ–¹æ–‡æ¡£ï¼Œç›¸ä¿¡å¤§å®¶åªè¦åƒé€æœ¬æ–‡å†åŠ ä»¥å®è·µï¼Œaxios å°±æ˜¯å°æ„æ€å•¦ï¼ï¼</p>
<p>å¦‚æœæ‚¨è§‰å¾—æœ¬æ–‡å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œä¸å¦¨ç‚¹ä¸ªèµæˆ–å…³æ³¨æ”¶è—ä¸€ä¸‹ï¼Œæ‚¨çš„é¼“åŠ±å¯¹æˆ‘éå¸¸é‡è¦ã€‚</p>
<a id="more"></a>
<h2 id="axios-ç®€ä»‹"><a href="#axios-ç®€ä»‹" class="headerlink" title="axios ç®€ä»‹"></a>axios ç®€ä»‹</h2><p>axios æ˜¯ä¸€ä¸ªåŸºäºPromise ç”¨äºæµè§ˆå™¨å’Œ nodejs çš„ HTTP å®¢æˆ·ç«¯ï¼Œå®ƒæœ¬èº«å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p>
<hr>
<ul>
<li>ä»æµè§ˆå™¨ä¸­åˆ›å»º  XMLHttpRequest</li>
<li>ä» node.js å‘å‡º http è¯·æ±‚</li>
<li>æ”¯æŒ Promise API</li>
<li>æ‹¦æˆªè¯·æ±‚å’Œå“åº”</li>
<li>è½¬æ¢è¯·æ±‚å’Œå“åº”æ•°æ®</li>
<li>å–æ¶ˆè¯·æ±‚</li>
<li>è‡ªåŠ¨è½¬æ¢JSONæ•°æ®</li>
<li>å®¢æˆ·ç«¯æ”¯æŒé˜²æ­¢ <a href="http://baike.baidu.com/link?url=iUceAfgyfJOacUtjPgT4ifaSOxDULAc_MzcLEOTySflAn5iLlHfMGsZMtthBm5sK4y6skrSvJ1HOO2qKtV1ej_" target="_blank" rel="external">CSRF/XSRF</a></li>
</ul>
<h2 id="æµè§ˆå™¨å…¼å®¹æ€§"><a href="#æµè§ˆå™¨å…¼å®¹æ€§" class="headerlink" title="æµè§ˆå™¨å…¼å®¹æ€§"></a>æµè§ˆå™¨å…¼å®¹æ€§</h2><p><img src="http://p1.bpimg.com/567571/991b798df8c9a528.png" alt=""></p>
<h2 id="å¼•å…¥æ–¹å¼ï¼š"><a href="#å¼•å…¥æ–¹å¼ï¼š" class="headerlink" title="å¼•å…¥æ–¹å¼ï¼š"></a>å¼•å…¥æ–¹å¼ï¼š</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ npm install axios</div><div class="line">$ cnpm install axios <span class="comment">//taobaoæº</span></div><div class="line">$ bower install axios</div><div class="line">æˆ–è€…ä½¿ç”¨cdnï¼š</div><div class="line">&lt;script src=<span class="string">"https://unpkg.com/axios/dist/axios.min.js"</span>&gt;&lt;/script&gt;</div></pre></td></tr></table></figure>
<h2 id="ä¸¾ä¸ªæ —å­ï¼š"><a href="#ä¸¾ä¸ªæ —å­ï¼š" class="headerlink" title="ä¸¾ä¸ªæ —å­ï¼š"></a>ä¸¾ä¸ªæ —å­ï¼š</h2><hr>
<h3 id="æ‰§è¡Œ-GET-è¯·æ±‚"><a href="#æ‰§è¡Œ-GET-è¯·æ±‚" class="headerlink" title="æ‰§è¡Œ GET è¯·æ±‚"></a>æ‰§è¡Œ GET è¯·æ±‚</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// å‘å…·æœ‰æŒ‡å®šIDçš„ç”¨æˆ·å‘å‡ºè¯·æ±‚</span></div><div class="line">axios.get(<span class="string">'/user?ID=12345'</span>)</div><div class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(response);</div><div class="line">  &#125;)</div><div class="line">  .catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(error);</div><div class="line">  &#125;);</div><div class="line"></div><div class="line"><span class="comment">// ä¹Ÿå¯ä»¥é€šè¿‡ params å¯¹è±¡ä¼ é€’å‚æ•°</span></div><div class="line">axios.get(<span class="string">'/user'</span>, &#123;</div><div class="line">    <span class="attr">params</span>: &#123;</div><div class="line">      <span class="attr">ID</span>: <span class="number">12345</span></div><div class="line">    &#125;</div><div class="line">  &#125;)</div><div class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(response);</div><div class="line">  &#125;)</div><div class="line">  .catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(error);</div><div class="line">  &#125;);</div></pre></td></tr></table></figure>
<h3 id="æ‰§è¡Œ-POST-è¯·æ±‚"><a href="#æ‰§è¡Œ-POST-è¯·æ±‚" class="headerlink" title="æ‰§è¡Œ POST è¯·æ±‚"></a>æ‰§è¡Œ POST è¯·æ±‚</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">axios.post(<span class="string">'/user'</span>, &#123;</div><div class="line">    <span class="attr">firstName</span>: <span class="string">'Fred'</span>,</div><div class="line">    <span class="attr">lastName</span>: <span class="string">'Flintstone'</span></div><div class="line">  &#125;)</div><div class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(response);</div><div class="line">  &#125;)</div><div class="line">  .catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(error);</div><div class="line">  &#125;);</div></pre></td></tr></table></figure>
<h3 id="æ‰§è¡Œå¤šä¸ªå¹¶å‘è¯·æ±‚"><a href="#æ‰§è¡Œå¤šä¸ªå¹¶å‘è¯·æ±‚" class="headerlink" title="æ‰§è¡Œå¤šä¸ªå¹¶å‘è¯·æ±‚"></a>æ‰§è¡Œå¤šä¸ªå¹¶å‘è¯·æ±‚</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUserAccount</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> axios.get(<span class="string">'/user/12345'</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUserPermissions</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> axios.get(<span class="string">'/user/12345/permissions'</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line">axios.all([getUserAccount(), getUserPermissions()])</div><div class="line">  .then(axios.spread(<span class="function"><span class="keyword">function</span> (<span class="params">acct, perms</span>) </span>&#123;</div><div class="line">    <span class="comment">//ä¸¤ä¸ªè¯·æ±‚ç°å·²å®Œæˆ</span></div><div class="line">  &#125;));</div></pre></td></tr></table></figure>
<h2 id="axios-API"><a href="#axios-API" class="headerlink" title="axios API"></a>axios API</h2><hr>
<p>å¯ä»¥é€šè¿‡å°†ç›¸å…³é…ç½®ä¼ é€’ç»™ axios æ¥è¿›è¡Œè¯·æ±‚ã€‚</p>
<h3 id="axios-config"><a href="#axios-config" class="headerlink" title="axios(config)"></a>axios(config)</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// å‘é€ä¸€ä¸ª POST è¯·æ±‚</span></div><div class="line">axios(&#123;</div><div class="line">  <span class="attr">method</span>: <span class="string">'post'</span>,</div><div class="line">  <span class="attr">url</span>: <span class="string">'/user/12345'</span>,</div><div class="line">  <span class="attr">data</span>: &#123;</div><div class="line">    <span class="attr">firstName</span>: <span class="string">'Fred'</span>,</div><div class="line">    <span class="attr">lastName</span>: <span class="string">'Flintstone'</span></div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="axios-url-config"><a href="#axios-url-config" class="headerlink" title="axios(url[, config])"></a>axios(url[, config])</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// å‘é€ä¸€ä¸ª GET è¯·æ±‚ (GETè¯·æ±‚æ˜¯é»˜è®¤è¯·æ±‚æ¨¡å¼)</span></div><div class="line">axios(<span class="string">'/user/12345'</span>);</div></pre></td></tr></table></figure>
<h3 id="è¯·æ±‚æ–¹æ³•åˆ«å"><a href="#è¯·æ±‚æ–¹æ³•åˆ«å" class="headerlink" title="è¯·æ±‚æ–¹æ³•åˆ«å"></a>è¯·æ±‚æ–¹æ³•åˆ«å</h3><p>ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œå·²ç»ä¸ºæ‰€æœ‰æ”¯æŒçš„è¯·æ±‚æ–¹æ³•æä¾›äº†åˆ«åã€‚</p>
<ul>
<li>axios.requestï¼ˆconfigï¼‰</li>
<li>axios.getï¼ˆurl [ï¼Œconfig]ï¼‰</li>
<li>axios.deleteï¼ˆurl [ï¼Œconfig]ï¼‰</li>
<li>axios.headï¼ˆurl [ï¼Œconfig]ï¼‰</li>
<li>axios.postï¼ˆurl [ï¼Œdata [ï¼Œconfig]]ï¼‰</li>
<li>axios.putï¼ˆurl [ï¼Œdata [ï¼Œconfig]]ï¼‰</li>
<li>axios.patchï¼ˆurl [ï¼Œdata [ï¼Œconfig]]ï¼‰</li>
</ul>
<p><strong>æ³¨æ„</strong><br>å½“ä½¿ç”¨åˆ«åæ–¹æ³•æ—¶ï¼Œä¸éœ€è¦åœ¨configä¸­æŒ‡å®šurlï¼Œmethodå’Œdataå±æ€§ã€‚</p>
<h3 id="å¹¶å‘"><a href="#å¹¶å‘" class="headerlink" title="å¹¶å‘"></a>å¹¶å‘</h3><p>å¸®åŠ©å‡½æ•°å¤„ç†å¹¶å‘è¯·æ±‚ã€‚</p>
<ul>
<li>axios.allï¼ˆiterableï¼‰</li>
<li>axios.spreadï¼ˆcallbackï¼‰</li>
</ul>
<h3 id="åˆ›å»ºå®ä¾‹"><a href="#åˆ›å»ºå®ä¾‹" class="headerlink" title="åˆ›å»ºå®ä¾‹"></a>åˆ›å»ºå®ä¾‹</h3><p>æ‚¨å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰é…ç½®åˆ›å»ºaxiosçš„æ–°å®ä¾‹ã€‚</p>
<p>axios.createï¼ˆ[config]ï¼‰</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> instance = axios.create(&#123;</div><div class="line">  <span class="attr">baseURL</span>: <span class="string">'https://some-domain.com/api/'</span>,</div><div class="line">  <span class="attr">timeout</span>: <span class="number">1000</span>,</div><div class="line">  <span class="attr">headers</span>: &#123;<span class="string">'X-Custom-Header'</span>: <span class="string">'foobar'</span>&#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="å®ä¾‹æ–¹æ³•"><a href="#å®ä¾‹æ–¹æ³•" class="headerlink" title="å®ä¾‹æ–¹æ³•"></a>å®ä¾‹æ–¹æ³•</h3><p>å¯ç”¨çš„å®ä¾‹æ–¹æ³•å¦‚ä¸‹æ‰€ç¤ºã€‚ æŒ‡å®šçš„é…ç½®å°†ä¸å®ä¾‹é…ç½®åˆå¹¶ã€‚</p>
<p>axiosï¼ƒrequestï¼ˆconfigï¼‰<br>axiosï¼ƒgetï¼ˆurl [ï¼Œconfig]ï¼‰<br>axiosï¼ƒdeleteï¼ˆurl [ï¼Œconfig]ï¼‰<br>axiosï¼ƒheadï¼ˆurl [ï¼Œconfig]ï¼‰<br>axiosï¼ƒpostï¼ˆurl [ï¼Œdata [ï¼Œconfig]]ï¼‰<br>axiosï¼ƒputï¼ˆurl [ï¼Œdata [ï¼Œconfig]]ï¼‰<br>axiosï¼ƒpatchï¼ˆurl [ï¼Œdata [ï¼Œconfig]]ï¼‰</p>
<h2 id="è¯·æ±‚é…ç½®"><a href="#è¯·æ±‚é…ç½®" class="headerlink" title="è¯·æ±‚é…ç½®"></a>è¯·æ±‚é…ç½®</h2><hr>
<p>è¿™äº›æ˜¯ç”¨äºå‘å‡ºè¯·æ±‚çš„å¯ç”¨é…ç½®é€‰é¡¹ã€‚ åªæœ‰urlæ˜¯å¿…éœ€çš„ã€‚ å¦‚æœæœªæŒ‡å®šæ–¹æ³•ï¼Œè¯·æ±‚å°†é»˜è®¤ä¸ºGETã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="comment">// `url`æ˜¯å°†ç”¨äºè¯·æ±‚çš„æœåŠ¡å™¨URL</span></div><div class="line">  url: <span class="string">'/user'</span>,</div><div class="line"></div><div class="line">  <span class="comment">// `method`æ˜¯å‘å‡ºè¯·æ±‚æ—¶ä½¿ç”¨çš„è¯·æ±‚æ–¹æ³•</span></div><div class="line">  method: <span class="string">'get'</span>, <span class="comment">// é»˜è®¤</span></div><div class="line"></div><div class="line">  <span class="comment">// `baseURL`å°†è¢«æ·»åŠ åˆ°`url`å‰é¢ï¼Œé™¤é`url`æ˜¯ç»å¯¹çš„ã€‚</span></div><div class="line">  <span class="comment">// å¯ä»¥æ–¹ä¾¿åœ°ä¸º axios çš„å®ä¾‹è®¾ç½®`baseURL`ï¼Œä»¥ä¾¿å°†ç›¸å¯¹ URL ä¼ é€’ç»™è¯¥å®ä¾‹çš„æ–¹æ³•ã€‚</span></div><div class="line">  baseURL: <span class="string">'https://some-domain.com/api/'</span>,</div><div class="line"></div><div class="line">  <span class="comment">// `transformRequest`å…è®¸åœ¨è¯·æ±‚æ•°æ®å‘é€åˆ°æœåŠ¡å™¨ä¹‹å‰å¯¹å…¶è¿›è¡Œæ›´æ”¹</span></div><div class="line">  <span class="comment">// è¿™åªé€‚ç”¨äºè¯·æ±‚æ–¹æ³•'PUT'ï¼Œ'POST'å’Œ'PATCH'</span></div><div class="line">  <span class="comment">// æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªå‡½æ•°å¿…é¡»è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¸€ä¸ª ArrayBufferæˆ–ä¸€ä¸ª Stream</span></div><div class="line"></div><div class="line">  transformRequest: [<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</div><div class="line">    <span class="comment">// åšä»»ä½•ä½ æƒ³è¦çš„æ•°æ®è½¬æ¢</span></div><div class="line"></div><div class="line">    <span class="keyword">return</span> data;</div><div class="line">  &#125;],</div><div class="line"></div><div class="line">  <span class="comment">// `transformResponse`å…è®¸åœ¨ then / catchä¹‹å‰å¯¹å“åº”æ•°æ®è¿›è¡Œæ›´æ”¹</span></div><div class="line">  transformResponse: [<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</div><div class="line">    <span class="comment">// Do whatever you want to transform the data</span></div><div class="line"></div><div class="line">    <span class="keyword">return</span> data;</div><div class="line">  &#125;],</div><div class="line"></div><div class="line">  <span class="comment">// `headers`æ˜¯è¦å‘é€çš„è‡ªå®šä¹‰ headers</span></div><div class="line">  headers: &#123;<span class="string">'X-Requested-With'</span>: <span class="string">'XMLHttpRequest'</span>&#125;,</div><div class="line"></div><div class="line">  <span class="comment">// `params`æ˜¯è¦ä¸è¯·æ±‚ä¸€èµ·å‘é€çš„URLå‚æ•°</span></div><div class="line">  <span class="comment">// å¿…é¡»æ˜¯çº¯å¯¹è±¡æˆ–URLSearchParamså¯¹è±¡</span></div><div class="line">  params: &#123;</div><div class="line">    <span class="attr">ID</span>: <span class="number">12345</span></div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  <span class="comment">// `paramsSerializer`æ˜¯ä¸€ä¸ªå¯é€‰çš„å‡½æ•°ï¼Œè´Ÿè´£åºåˆ—åŒ–`params`</span></div><div class="line">  <span class="comment">// (e.g. https://www.npmjs.com/package/qs, http://api.jquery.com/jquery.param/)</span></div><div class="line">  paramsSerializer: <span class="function"><span class="keyword">function</span>(<span class="params">params</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> Qs.stringify(params, &#123;<span class="attr">arrayFormat</span>: <span class="string">'brackets'</span>&#125;)</div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  <span class="comment">// `data`æ˜¯è¦ä½œä¸ºè¯·æ±‚ä¸»ä½“å‘é€çš„æ•°æ®</span></div><div class="line">  <span class="comment">// ä»…é€‚ç”¨äºè¯·æ±‚æ–¹æ³•â€œPUTâ€ï¼Œâ€œPOSTâ€å’Œâ€œPATCHâ€</span></div><div class="line">  <span class="comment">// å½“æ²¡æœ‰è®¾ç½®`transformRequest`æ—¶ï¼Œå¿…é¡»æ˜¯ä»¥ä¸‹ç±»å‹ä¹‹ä¸€ï¼š</span></div><div class="line">  <span class="comment">// - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams</span></div><div class="line">  <span class="comment">// - Browser only: FormData, File, Blob</span></div><div class="line">  <span class="comment">// - Node only: Stream</span></div><div class="line">  data: &#123;</div><div class="line">    <span class="attr">firstName</span>: <span class="string">'Fred'</span></div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  <span class="comment">// `timeout`æŒ‡å®šè¯·æ±‚è¶…æ—¶ä¹‹å‰çš„æ¯«ç§’æ•°ã€‚</span></div><div class="line">  <span class="comment">// å¦‚æœè¯·æ±‚çš„æ—¶é—´è¶…è¿‡'timeout'ï¼Œè¯·æ±‚å°†è¢«ä¸­æ­¢ã€‚</span></div><div class="line">  timeout: <span class="number">1000</span>,</div><div class="line"></div><div class="line">  <span class="comment">// `withCredentials`æŒ‡ç¤ºæ˜¯å¦è·¨ç«™ç‚¹è®¿é—®æ§åˆ¶è¯·æ±‚</span></div><div class="line">  <span class="comment">// should be made using credentials</span></div><div class="line">  withCredentials: <span class="literal">false</span>, <span class="comment">// default</span></div><div class="line"></div><div class="line">  <span class="comment">// `adapter'å…è®¸è‡ªå®šä¹‰å¤„ç†è¯·æ±‚ï¼Œè¿™ä½¿å¾—æµ‹è¯•æ›´å®¹æ˜“ã€‚</span></div><div class="line">  <span class="comment">// è¿”å›ä¸€ä¸ªpromiseå¹¶æä¾›ä¸€ä¸ªæœ‰æ•ˆçš„å“åº”ï¼ˆå‚è§[response docs]ï¼ˆï¼ƒresponse-apiï¼‰ï¼‰</span></div><div class="line">  adapter: <span class="function"><span class="keyword">function</span> (<span class="params">config</span>) </span>&#123;</div><div class="line">    <span class="comment">/* ... */</span></div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  <span class="comment">// `auth'è¡¨ç¤ºåº”è¯¥ä½¿ç”¨ HTTP åŸºæœ¬è®¤è¯ï¼Œå¹¶æä¾›å‡­æ®ã€‚</span></div><div class="line">  <span class="comment">// è¿™å°†è®¾ç½®ä¸€ä¸ª`Authorization'å¤´ï¼Œè¦†ç›–ä»»ä½•ç°æœ‰çš„`Authorization'è‡ªå®šä¹‰å¤´ï¼Œä½¿ç”¨`headers`è®¾ç½®ã€‚</span></div><div class="line">  auth: &#123;</div><div class="line">    <span class="attr">username</span>: <span class="string">'janedoe'</span>,</div><div class="line">    <span class="attr">password</span>: <span class="string">'s00pers3cret'</span></div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  <span class="comment">// â€œresponseTypeâ€è¡¨ç¤ºæœåŠ¡å™¨å°†å“åº”çš„æ•°æ®ç±»å‹</span></div><div class="line">  <span class="comment">// åŒ…æ‹¬ 'arraybuffer', 'blob', 'document', 'json', 'text', 'stream'</span></div><div class="line">  responseType: <span class="string">'json'</span>, <span class="comment">// default</span></div><div class="line"></div><div class="line">  <span class="comment">//`xsrfCookieName`æ˜¯è¦ç”¨ä½œ xsrf ä»¤ç‰Œçš„å€¼çš„cookieçš„åç§°</span></div><div class="line">  xsrfCookieName: <span class="string">'XSRF-TOKEN'</span>, <span class="comment">// default</span></div><div class="line"></div><div class="line">  <span class="comment">// `xsrfHeaderName`æ˜¯æºå¸¦xsrfä»¤ç‰Œå€¼çš„httpå¤´çš„åç§°</span></div><div class="line">  xsrfHeaderName: <span class="string">'X-XSRF-TOKEN'</span>, <span class="comment">// default</span></div><div class="line"></div><div class="line">  <span class="comment">// `onUploadProgress`å…è®¸å¤„ç†ä¸Šä¼ çš„è¿›åº¦äº‹ä»¶</span></div><div class="line">  onUploadProgress: <span class="function"><span class="keyword">function</span> (<span class="params">progressEvent</span>) </span>&#123;</div><div class="line">    <span class="comment">// ä½¿ç”¨æœ¬åœ° progress äº‹ä»¶åšä»»ä½•ä½ æƒ³è¦åšçš„</span></div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  <span class="comment">// `onDownloadProgress`å…è®¸å¤„ç†ä¸‹è½½çš„è¿›åº¦äº‹ä»¶</span></div><div class="line">  onDownloadProgress: <span class="function"><span class="keyword">function</span> (<span class="params">progressEvent</span>) </span>&#123;</div><div class="line">    <span class="comment">// Do whatever you want with the native progress event</span></div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  <span class="comment">// `maxContentLength`å®šä¹‰å…è®¸çš„httpå“åº”å†…å®¹çš„æœ€å¤§å¤§å°</span></div><div class="line">  maxContentLength: <span class="number">2000</span>,</div><div class="line"></div><div class="line">  <span class="comment">// `validateStatus`å®šä¹‰æ˜¯å¦è§£ææˆ–æ‹’ç»ç»™å®šçš„promise</span></div><div class="line">  <span class="comment">// HTTPå“åº”çŠ¶æ€ç ã€‚å¦‚æœ`validateStatus`è¿”å›`true`ï¼ˆæˆ–è¢«è®¾ç½®ä¸º`null` promiseå°†è¢«è§£æ;å¦åˆ™ï¼Œpromiseå°†è¢«</span></div><div class="line">Â Â <span class="comment">// æ‹’ç»ã€‚</span></div><div class="line">  validateStatus: <span class="function"><span class="keyword">function</span> (<span class="params">status</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> status &gt;= <span class="number">200</span> &amp;&amp; status &lt; <span class="number">300</span>; <span class="comment">// default</span></div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  <span class="comment">// `maxRedirects`å®šä¹‰åœ¨node.jsä¸­è¦éµå¾ªçš„é‡å®šå‘çš„æœ€å¤§æ•°é‡ã€‚</span></div><div class="line">  <span class="comment">// å¦‚æœè®¾ç½®ä¸º0ï¼Œåˆ™ä¸ä¼šéµå¾ªé‡å®šå‘ã€‚</span></div><div class="line">  maxRedirects: <span class="number">5</span>, <span class="comment">// é»˜è®¤</span></div><div class="line"></div><div class="line">  <span class="comment">// `httpAgent`å’Œ`httpsAgent`ç”¨äºå®šä¹‰åœ¨node.jsä¸­åˆ†åˆ«æ‰§è¡Œhttpå’Œhttpsè¯·æ±‚æ—¶ä½¿ç”¨çš„è‡ªå®šä¹‰ä»£ç†ã€‚</span></div><div class="line">  <span class="comment">// å…è®¸é…ç½®ç±»ä¼¼`keepAlive`çš„é€‰é¡¹ï¼Œ</span></div><div class="line">  <span class="comment">// é»˜è®¤æƒ…å†µä¸‹ä¸å¯ç”¨ã€‚</span></div><div class="line">  httpAgent: <span class="keyword">new</span> http.Agent(&#123; <span class="attr">keepAlive</span>: <span class="literal">true</span> &#125;),</div><div class="line">  <span class="attr">httpsAgent</span>: <span class="keyword">new</span> https.Agent(&#123; <span class="attr">keepAlive</span>: <span class="literal">true</span> &#125;),</div><div class="line"></div><div class="line">  <span class="comment">// 'proxy'å®šä¹‰ä»£ç†æœåŠ¡å™¨çš„ä¸»æœºåå’Œç«¯å£</span></div><div class="line">  <span class="comment">// `auth`è¡¨ç¤ºHTTP Basic authåº”è¯¥ç”¨äºè¿æ¥åˆ°ä»£ç†ï¼Œå¹¶æä¾›credentialsã€‚</span></div><div class="line">  <span class="comment">// è¿™å°†è®¾ç½®ä¸€ä¸ª`Proxy-Authorization` headerï¼Œè¦†ç›–ä»»ä½•ä½¿ç”¨`headers`è®¾ç½®çš„ç°æœ‰çš„`Proxy-Authorization` è‡ªå®šä¹‰ headersã€‚</span></div><div class="line">  proxy: &#123;</div><div class="line">    <span class="attr">host</span>: <span class="string">'127.0.0.1'</span>,</div><div class="line">    <span class="attr">port</span>: <span class="number">9000</span>,</div><div class="line">    <span class="attr">auth</span>: : &#123;</div><div class="line">      <span class="attr">username</span>: <span class="string">'mikeymike'</span>,</div><div class="line">      <span class="attr">password</span>: <span class="string">'rapunz3l'</span></div><div class="line">    &#125;</div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  <span class="comment">// â€œcancelTokenâ€æŒ‡å®šå¯ç”¨äºå–æ¶ˆè¯·æ±‚çš„å–æ¶ˆä»¤ç‰Œ</span></div><div class="line">  <span class="comment">// (see Cancellation section below for details)</span></div><div class="line">  cancelToken: <span class="keyword">new</span> CancelToken(<span class="function"><span class="keyword">function</span> (<span class="params">cancel</span>) </span>&#123;</div><div class="line">  &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä½¿ç”¨ then æ—¶ï¼Œæ‚¨å°†æ”¶åˆ°å¦‚ä¸‹å“åº”ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">axios.get(<span class="string">'/user/12345'</span>)</div><div class="line">  .then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(response.data);</div><div class="line">    <span class="built_in">console</span>.log(response.status);</div><div class="line">    <span class="built_in">console</span>.log(response.statusText);</div><div class="line">    <span class="built_in">console</span>.log(response.headers);</div><div class="line">    <span class="built_in">console</span>.log(response.config);</div><div class="line">  &#125;);</div></pre></td></tr></table></figure>
<h2 id="é…ç½®é»˜è®¤å€¼"><a href="#é…ç½®é»˜è®¤å€¼" class="headerlink" title="é…ç½®é»˜è®¤å€¼"></a>é…ç½®é»˜è®¤å€¼</h2><hr>
<p>æ‚¨å¯ä»¥æŒ‡å®šå°†åº”ç”¨äºæ¯ä¸ªè¯·æ±‚çš„é…ç½®é»˜è®¤å€¼ã€‚</p>
<h3 id="å…¨å±€axiosé»˜è®¤å€¼"><a href="#å…¨å±€axiosé»˜è®¤å€¼" class="headerlink" title="å…¨å±€axiosé»˜è®¤å€¼"></a>å…¨å±€axiosé»˜è®¤å€¼</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">axios.defaults.baseURL = <span class="string">'https://api.example.com'</span>;</div><div class="line">axios.defaults.headers.common[<span class="string">'Authorization'</span>] = AUTH_TOKEN;</div><div class="line">axios.defaults.headers.post[<span class="string">'Content-Type'</span>] = <span class="string">'application/x-www-form-urlencoded'</span>;</div></pre></td></tr></table></figure>
<h3 id="è‡ªå®šä¹‰å®ä¾‹é»˜è®¤å€¼"><a href="#è‡ªå®šä¹‰å®ä¾‹é»˜è®¤å€¼" class="headerlink" title="è‡ªå®šä¹‰å®ä¾‹é»˜è®¤å€¼"></a>è‡ªå®šä¹‰å®ä¾‹é»˜è®¤å€¼</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//åœ¨åˆ›å»ºå®ä¾‹æ—¶è®¾ç½®é…ç½®é»˜è®¤å€¼</span></div><div class="line"><span class="keyword">var</span> instance = axios.createï¼ˆ&#123;</div><div class="line">Â Â  baseURLï¼š<span class="string">'https://api.example.com'</span></div><div class="line">&#125;ï¼‰;</div><div class="line">Â </div><div class="line"><span class="comment">//åœ¨å®ä¾‹åˆ›å»ºåæ”¹å˜é»˜è®¤å€¼</span></div><div class="line">instance.defaults.headers.common [<span class="string">'Authorization'</span>] = AUTH_TOKEN;</div></pre></td></tr></table></figure>
<h3 id="é…ç½®ä¼˜å…ˆçº§é¡ºåº"><a href="#é…ç½®ä¼˜å…ˆçº§é¡ºåº" class="headerlink" title="é…ç½®ä¼˜å…ˆçº§é¡ºåº"></a>é…ç½®ä¼˜å…ˆçº§é¡ºåº</h3><p>é…ç½®å°†ä¸ä¼˜å…ˆé¡ºåºåˆå¹¶ã€‚ é¡ºåºæ˜¯lib / defaults.jsä¸­çš„åº“é»˜è®¤å€¼ï¼Œç„¶åæ˜¯å®ä¾‹çš„defaultså±æ€§ï¼Œæœ€åæ˜¯è¯·æ±‚çš„configå‚æ•°ã€‚ åè€…å°†ä¼˜å…ˆäºå‰è€…ã€‚ è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//ä½¿ç”¨åº“æä¾›çš„é…ç½®é»˜è®¤å€¼åˆ›å»ºå®ä¾‹</span></div><div class="line"><span class="comment">//æ­¤æ—¶ï¼Œè¶…æ—¶é…ç½®å€¼ä¸º`0`ï¼Œè¿™æ˜¯åº“çš„é»˜è®¤å€¼</span></div><div class="line"><span class="keyword">var</span> instance = axios.createï¼ˆï¼‰;</div><div class="line">Â </div><div class="line"><span class="comment">//è¦†ç›–åº“çš„è¶…æ—¶é»˜è®¤å€¼</span></div><div class="line"><span class="comment">//ç°åœ¨æ‰€æœ‰è¯·æ±‚å°†åœ¨è¶…æ—¶å‰ç­‰å¾…2.5ç§’</span></div><div class="line">instance.defaults.timeout = <span class="number">2500</span>;</div><div class="line">Â </div><div class="line"><span class="comment">//è¦†ç›–æ­¤è¯·æ±‚çš„è¶…æ—¶ï¼Œå› ä¸ºå®ƒçŸ¥é“éœ€è¦å¾ˆé•¿æ—¶é—´</span></div><div class="line">instance.getï¼ˆ<span class="string">'/ longRequest'</span>ï¼Œ&#123;</div><div class="line">Â Â  timeoutï¼š<span class="number">5000</span></div><div class="line">&#125;ï¼‰;</div></pre></td></tr></table></figure>
<h2 id="æ‹¦æˆªå™¨"><a href="#æ‹¦æˆªå™¨" class="headerlink" title="æ‹¦æˆªå™¨"></a>æ‹¦æˆªå™¨</h2><hr>
<p>ä½ å¯ä»¥æˆªå–è¯·æ±‚æˆ–å“åº”åœ¨è¢« then æˆ–è€… catch å¤„ç†ä¹‹å‰</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨</span></div><div class="line">axios.interceptors.request.useï¼ˆ<span class="function"><span class="keyword">function</span>ï¼ˆ<span class="title">config</span>ï¼‰</span>&#123;</div><div class="line">Â Â Â Â  <span class="comment">//åœ¨å‘é€è¯·æ±‚ä¹‹å‰åšæŸäº‹</span></div><div class="line">Â Â Â Â  <span class="keyword">return</span> config;</div><div class="line">Â Â  &#125;ï¼Œ<span class="function"><span class="keyword">function</span>ï¼ˆ<span class="title">error</span>ï¼‰</span>&#123;</div><div class="line">Â Â Â Â  <span class="comment">//è¯·æ±‚é”™è¯¯æ—¶åšäº›äº‹</span></div><div class="line">Â Â Â Â  <span class="keyword">return</span> <span class="built_in">Promise</span>.rejectï¼ˆerrorï¼‰;</div><div class="line">Â Â  &#125;ï¼‰;</div><div class="line">Â </div><div class="line"><span class="comment">//æ·»åŠ å“åº”æ‹¦æˆªå™¨</span></div><div class="line">axios.interceptors.response.useï¼ˆ<span class="function"><span class="keyword">function</span>ï¼ˆ<span class="title">response</span>ï¼‰</span>&#123;</div><div class="line">Â Â Â Â  <span class="comment">//å¯¹å“åº”æ•°æ®åšäº›äº‹</span></div><div class="line">Â Â Â Â   <span class="keyword">return</span> response;</div><div class="line">Â Â  &#125;ï¼Œ<span class="function"><span class="keyword">function</span>ï¼ˆ<span class="title">error</span>ï¼‰</span>&#123;</div><div class="line">Â Â Â Â  <span class="comment">//è¯·æ±‚é”™è¯¯æ—¶åšäº›äº‹</span></div><div class="line">Â Â Â Â  <span class="keyword">return</span> <span class="built_in">Promise</span>.rejectï¼ˆerrorï¼‰;</div><div class="line">Â Â  &#125;ï¼‰;</div></pre></td></tr></table></figure>
<p>å¦‚æœä½ ä»¥åå¯èƒ½éœ€è¦åˆ é™¤æ‹¦æˆªå™¨ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> myInterceptor = axios.interceptors.request.use(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;<span class="comment">/*...*/</span>&#125;);</div><div class="line">axios.interceptors.request.eject(myInterceptor);</div></pre></td></tr></table></figure>
<p>ä½ å¯ä»¥å°†æ‹¦æˆªå™¨æ·»åŠ åˆ°axiosçš„è‡ªå®šä¹‰å®ä¾‹ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> instance = axios.create();</div><div class="line">instance.interceptors.request.use(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;<span class="comment">/*...*/</span>&#125;);</div></pre></td></tr></table></figure>
<h2 id="å¤„ç†é”™è¯¯"><a href="#å¤„ç†é”™è¯¯" class="headerlink" title="å¤„ç†é”™è¯¯"></a>å¤„ç†é”™è¯¯</h2><hr>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">axios.getï¼ˆ<span class="string">'/ user / 12345'</span>ï¼‰</div><div class="line">Â Â  .catchï¼ˆ<span class="function"><span class="keyword">function</span>ï¼ˆ<span class="title">error</span>ï¼‰</span>&#123;</div><div class="line">Â Â Â Â  <span class="keyword">if</span>ï¼ˆerror.responseï¼‰&#123;</div><div class="line">Â Â Â Â Â Â  <span class="comment">//è¯·æ±‚å·²å‘å‡ºï¼Œä½†æœåŠ¡å™¨ä½¿ç”¨çŠ¶æ€ä»£ç è¿›è¡Œå“åº”</span></div><div class="line">Â Â Â Â Â Â  <span class="comment">//è½åœ¨2xxçš„èŒƒå›´ä¹‹å¤–</span></div><div class="line">Â Â Â Â Â Â  <span class="built_in">console</span>.logï¼ˆerror.response.dataï¼‰;</div><div class="line">Â Â Â Â Â Â  <span class="built_in">console</span>.logï¼ˆerror.response.statusï¼‰;</div><div class="line">Â Â Â Â Â Â  <span class="built_in">console</span>.logï¼ˆerror.response.headersï¼‰;</div><div class="line">Â Â Â Â  &#125; <span class="keyword">else</span> &#123;</div><div class="line">Â Â Â Â Â Â  <span class="comment">//åœ¨è®¾ç½®è§¦å‘é”™è¯¯çš„è¯·æ±‚æ—¶å‘ç”Ÿäº†é”™è¯¯</span></div><div class="line">Â Â Â Â Â Â  <span class="built_in">console</span>.logï¼ˆ<span class="string">'Error'</span>ï¼Œerror.messageï¼‰;</div><div class="line">Â Â Â Â  &#125;&#125;</div><div class="line">Â Â Â Â  <span class="built_in">console</span>.logï¼ˆerror.configï¼‰;</div><div class="line">Â Â  &#125;ï¼‰;</div></pre></td></tr></table></figure>
<p>æ‚¨å¯ä»¥ä½¿ç”¨validateStatusé…ç½®é€‰é¡¹å®šä¹‰è‡ªå®šä¹‰HTTPçŠ¶æ€ç é”™è¯¯èŒƒå›´ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">axios.getï¼ˆ<span class="string">'/ user / 12345'</span>ï¼Œ&#123;</div><div class="line">Â Â  validateStatusï¼š<span class="function"><span class="keyword">function</span>ï¼ˆ<span class="title">status</span>ï¼‰</span>&#123;</div><div class="line">Â Â Â Â  <span class="keyword">return</span> status &lt; <span class="number">500</span>; <span class="comment">//ä»…å½“çŠ¶æ€ä»£ç å¤§äºæˆ–ç­‰äº500æ—¶æ‹’ç»</span></div><div class="line">Â Â  &#125;&#125;</div><div class="line">&#125;ï¼‰</div></pre></td></tr></table></figure>
<h2 id="æ¶ˆé™¤"><a href="#æ¶ˆé™¤" class="headerlink" title="æ¶ˆé™¤"></a>æ¶ˆé™¤</h2><hr>
<p>æ‚¨å¯ä»¥ä½¿ç”¨å–æ¶ˆä»¤ç‰Œå–æ¶ˆè¯·æ±‚ã€‚</p>
<blockquote>
<p>axios cancel token APIåŸºäºå¯å–æ¶ˆçš„promiseæè®®ï¼Œç›®å‰å¤„äºé˜¶æ®µ1ã€‚  </p>
</blockquote>
<p>æ‚¨å¯ä»¥ä½¿ç”¨CancelToken.sourceå·¥å‚åˆ›å»ºä¸€ä¸ªå–æ¶ˆä»¤ç‰Œï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> CancelToken = axios.CancelToken;</div><div class="line"><span class="keyword">var</span> source = CancelToken.sourceï¼ˆï¼‰;</div><div class="line"></div><div class="line">axios.get(<span class="string">'/user/12345'</span>, &#123;</div><div class="line">  <span class="attr">cancelToken</span>: source.token</div><div class="line">&#125;).catch(<span class="function"><span class="keyword">function</span>(<span class="params">thrown</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (axios.isCancel(thrown)) &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'Request canceled'</span>, thrown.message);</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="comment">// å¤„ç†é”™è¯¯</span></div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">//å–æ¶ˆè¯·æ±‚ï¼ˆæ¶ˆæ¯å‚æ•°æ˜¯å¯é€‰çš„ï¼‰</span></div><div class="line">source.cancelï¼ˆ<span class="string">'æ“ä½œè¢«ç”¨æˆ·å–æ¶ˆã€‚'</span>ï¼‰;</div></pre></td></tr></table></figure>
<p>æ‚¨è¿˜å¯ä»¥é€šè¿‡å°†æ‰§è¡Œå™¨å‡½æ•°ä¼ é€’ç»™CancelTokenæ„é€ å‡½æ•°æ¥åˆ›å»ºå–æ¶ˆä»¤ç‰Œï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> CancelToken = axios.CancelToken;</div><div class="line"><span class="keyword">var</span> cancel;</div><div class="line">Â </div><div class="line">axios.getï¼ˆ<span class="string">'/ user / 12345'</span>ï¼Œ&#123;</div><div class="line">Â Â  cancelTokenï¼š<span class="keyword">new</span> CancelTokenï¼ˆ<span class="function"><span class="keyword">function</span> <span class="title">executor</span>ï¼ˆ<span class="title">c</span>ï¼‰</span>&#123;</div><div class="line">Â Â Â Â  <span class="comment">//ä¸€ä¸ªæ‰§è¡Œå™¨å‡½æ•°æ¥æ”¶ä¸€ä¸ªå–æ¶ˆå‡½æ•°ä½œä¸ºå‚æ•°</span></div><div class="line">Â Â Â Â  cancel = c;</div><div class="line">Â Â  &#125;ï¼‰</div><div class="line">&#125;ï¼‰;</div><div class="line">Â </div><div class="line"><span class="comment">// å–æ¶ˆè¯·æ±‚</span></div><div class="line">clear();</div></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ï¼šæ‚¨å¯ä»¥ä½¿ç”¨ç›¸åŒçš„å–æ¶ˆä»¤ç‰Œå–æ¶ˆå‡ ä¸ªè¯·æ±‚ã€‚  </p>
</blockquote>
<h2 id="ä½¿ç”¨application-x-www-form-urlencodedæ ¼å¼"><a href="#ä½¿ç”¨application-x-www-form-urlencodedæ ¼å¼" class="headerlink" title="ä½¿ç”¨application / x-www-form-urlencodedæ ¼å¼"></a>ä½¿ç”¨application / x-www-form-urlencodedæ ¼å¼</h2><hr>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œaxioså°†JavaScriptå¯¹è±¡åºåˆ—åŒ–ä¸ºJSONã€‚ è¦ä»¥åº”ç”¨ç¨‹åº/ x-www-form-urlencodedæ ¼å¼å‘é€æ•°æ®ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹é€‰é¡¹ä¹‹ä¸€ã€‚</p>
<h3 id="æµè§ˆå™¨"><a href="#æµè§ˆå™¨" class="headerlink" title="æµè§ˆå™¨"></a>æµè§ˆå™¨</h3><p>åœ¨æµè§ˆå™¨ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨URLSearchParams APIï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> params = <span class="keyword">new</span> URLSearchParams();</div><div class="line">params.append(<span class="string">'param1'</span>, <span class="string">'value1'</span>);</div><div class="line">params.append(<span class="string">'param2'</span>, <span class="string">'value2'</span>);</div><div class="line">axios.post(<span class="string">'/foo'</span>, params);</div></pre></td></tr></table></figure>
<blockquote>
<p>è¯·æ³¨æ„ï¼Œæ‰€æœ‰æµè§ˆå™¨éƒ½ä¸æ”¯æŒURLSearchParamsï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªpolyfillå¯ç”¨ï¼ˆç¡®ä¿polyfillå…¨å±€ç¯å¢ƒï¼‰ã€‚  </p>
</blockquote>
<p>æˆ–è€…ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨qsåº“å¯¹æ•°æ®è¿›è¡Œç¼–ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> qs = <span class="built_in">require</span>(<span class="string">'qs'</span>);</div><div class="line">axios.post(<span class="string">'/foo'</span>, qs.stringify(&#123; <span class="string">'bar'</span>: <span class="number">123</span> &#125;);</div></pre></td></tr></table></figure>
<h3 id="Node-js"><a href="#Node-js" class="headerlink" title="Node.js"></a>Node.js</h3><p>åœ¨node.jsä¸­ï¼Œå¯ä»¥ä½¿ç”¨querystringæ¨¡å—ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> querystring = <span class="built_in">require</span>(<span class="string">'querystring'</span>);</div><div class="line">axios.post(<span class="string">'http://something.com/'</span>, querystring.stringify(&#123; <span class="attr">foo</span>: <span class="string">'bar'</span> &#125;);</div></pre></td></tr></table></figure>
<p>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨qsåº“ã€‚</p>
<h2 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h2><hr>
<p>axios ä¾èµ–æœ¬æœºè¦æ”¯æŒES6 Promiseå®ç°ã€‚ å¦‚æœæ‚¨çš„ç¯å¢ƒä¸æ”¯æŒES6 Promisesï¼Œæ‚¨å¯ä»¥ä½¿ç”¨polyfillã€‚</p>
<h2 id="TypeScript"><a href="#TypeScript" class="headerlink" title="TypeScript"></a>TypeScript</h2><hr>
<p>axiosåŒ…æ‹¬TypeScriptå®šä¹‰ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span>;</div><div class="line">axios.get(<span class="string">'/user?ID=12345'</span>);</div></pre></td></tr></table></figure>
<hr>
<p>axiosåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå—åˆ°Angularæä¾›çš„$httpæœåŠ¡çš„å¯å‘ã€‚ æœ€ç»ˆï¼ŒaxiosåŠªåŠ›æä¾›ä¸€ä¸ªåœ¨Angularå¤–ä½¿ç”¨çš„ç‹¬ç«‹çš„$http-likeæœåŠ¡ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;éšç€ vuejs ä½œè€…å°¤é›¨æºªå‘å¸ƒæ¶ˆæ¯ï¼Œä¸å†ç»§ç»­ç»´æŠ¤vue-resourceï¼Œå¹¶æ¨èå¤§å®¶ä½¿ç”¨ axios å¼€å§‹ï¼Œaxios è¢«è¶Šæ¥è¶Šå¤šçš„äººæ‰€äº†è§£ã€‚æœ¬æ¥æƒ³åœ¨ç½‘ä¸Šæ‰¾æ‰¾è¯¦ç»†æ”»ç•¥ï¼Œçªç„¶å‘ç°ï¼Œaxios çš„å®˜æ–¹æ–‡æ¡£æœ¬èº«å°±éå¸¸è¯¦ç»†ï¼ï¼æœ‰è¿™ä¸ªè¿˜è¦ä»€ä¹ˆè‡ªè¡Œè½¦ï¼ï¼æ‰€ä»¥æ¨èå¤§å®¶å­¦ä¹ è¿™ç§åº“ï¼Œæœ€å¥½è¯¦ç»†é˜…è¯»å…¶å®˜æ–¹æ–‡æ¡£ã€‚å¤§æ¦‚ç¿»è¯‘äº†ä¸€ä¸‹ axios çš„å®˜æ–¹æ–‡æ¡£ï¼Œç›¸ä¿¡å¤§å®¶åªè¦åƒé€æœ¬æ–‡å†åŠ ä»¥å®è·µï¼Œaxios å°±æ˜¯å°æ„æ€å•¦ï¼ï¼&lt;/p&gt;
&lt;p&gt;å¦‚æœæ‚¨è§‰å¾—æœ¬æ–‡å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œä¸å¦¨ç‚¹ä¸ªèµæˆ–å…³æ³¨æ”¶è—ä¸€ä¸‹ï¼Œæ‚¨çš„é¼“åŠ±å¯¹æˆ‘éå¸¸é‡è¦ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="javascript" scheme="https://ykloveyxk.github.io/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>svgå›¾æ ‡æ–‡ä»¶å¼•å…¥å°æŠ€å·§</title>
    <link href="https://ykloveyxk.github.io/2017/01/17/svg%E5%9B%BE%E6%A0%87%E6%96%87%E4%BB%B6%E5%BC%95%E5%85%A5%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    <id>https://ykloveyxk.github.io/2017/01/17/svgå›¾æ ‡æ–‡ä»¶å¼•å…¥å°æŠ€å·§/</id>
    <published>2017-01-17T08:57:17.000Z</published>
    <updated>2017-01-17T08:59:30.000Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©åˆšåˆšgetåˆ°çš„ä¸€ä¸ªå°æŠ€èƒ½ï¼Œå¿ä¸ä½æƒ³å’Œå¤§å®¶åˆ†äº«ä¸€ä¸‹ï¼Œä¸‡ä¸€æœ‰åŒå­¦ä¸å¤ªæ‡‚ï¼Œåˆšå¥½ä¹Ÿå¯ä»¥å­¦ä¹ ä¸€ä¸‹ï¼ˆpsï¼šçŸ¥é“çš„åŒå­¦å¯ä»¥å¸®æˆ‘æ–§æ­£ï¼Œæ„Ÿè°¢ï¼ï¼‰ã€‚æƒ¯ä¾‹ï¼Œå…ˆæ¥ç®€å•ä»‹ç»ä¸€ä¸‹ svgï¼Œè™½ç„¶ç›¸ä¿¡å¤§å®¶éƒ½æ‡‚ğŸ˜“:</p>
<a id="more"></a>
<blockquote>
<p><a href="http://baike.baidu.com/link?url=XgUZoMKppO_GNu2mOqeMGPw6tHR_ONFgZwu9RPjrPnVTSt0NY_CoD729oxZAIt8sU9dQB7FOmaR69t7S8ZHJla" target="_blank" rel="external">SVGï¼ˆå¯ç¼©æ”¾çŸ¢é‡å›¾å½¢ï¼‰_ç™¾åº¦ç™¾ç§‘</a>  </p>
<p>svgï¼ˆå¯ç¼©æ”¾çŸ¢é‡å›¾å½¢ï¼‰æ˜¯åŸºäºå¯æ‰©å±•æ ‡è®°è¯­è¨€ï¼ˆæ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€çš„å­é›†ï¼‰ï¼Œç”¨äºæè¿°äºŒç»´çŸ¢é‡å›¾å½¢çš„ä¸€ç§å›¾å½¢æ ¼å¼ã€‚å®ƒç”±ä¸‡ç»´ç½‘è”ç›Ÿåˆ¶å®šï¼Œæ˜¯ä¸€ä¸ªå¼€æ”¾æ ‡å‡†ã€‚  </p>
</blockquote>
<p>ç®€å•çš„è¯´å°±æ˜¯å®ƒæ˜¯ä¸€ç§çŸ¢é‡å›¾å½¢ï¼Œä½“ç§¯å°ï¼Œé«˜ä¿çœŸï¼Œæ”¾å¤§æ”¾å°éƒ½ä¸å¤±çœŸã€‚</p>
<p>ç›´æ¥å¼•å…¥svgæ–‡ä»¶çš„æ–¹å¼ï¼Œæœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>
<hr>
<ol>
<li>img æ ‡ç­¾å¼•å…¥;</li>
<li>css å±æ€§ <em>background-image: url(â€˜svgâ€™);</em> å¼•å…¥;</li>
<li>ä½¿ç”¨ object æ ‡ç­¾å¼•å…¥ ;</li>
<li>iframe æ ‡ç­¾å¼•å…¥;</li>
<li>embed æ ‡ç­¾å¼•å…¥;</li>
<li>svg æ ‡ç­¾å¼•å…¥;</li>
</ol>
<hr>
<p>ä½†æ˜¯ä¸Šé¢çš„å‡ ç§æ–¹æ³•ï¼Œé™¤å»æ–¹æ³•2ï¼Œéƒ½æœ‰ä¸ªå…±åŒç‰¹ç‚¹ï¼Œéƒ½æ˜¯<strong>é€šè¿‡ä¸€ä¸ªæ ‡ç­¾æ¥å¼•å…¥ä¸€ä¸ªsvgæ–‡ä»¶</strong>ã€‚ä½†æ˜¯åœ¨å®é™…çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œéœ€è¦åŠ è½½çš„å›¾æ ‡æ–‡ä»¶æ•°ç›®å¯èƒ½ä¼šæœ‰å¾ˆå¤šï¼ˆå°¤å…¶åœ¨ç§»åŠ¨ç«¯ï¼‰ï¼Œå› æ­¤é‡‡ç”¨æ ‡ç­¾åŠ è½½çš„æ–¹å¼ï¼Œä¼šå¯¼è‡´ä»£ç å†—ä½™ï¼Œä¸ç¾è§‚ï¼Œä¸”ä¸æ˜“ç»´æŠ¤å’Œé˜…è¯»ã€‚å› æ­¤ï¼Œåœ¨åŠ è½½å›¾æ ‡æ–‡ä»¶çš„æ—¶å€™ï¼Œæˆ‘ä»¬åº”è¯¥æ•ˆä»¿ font-awesome çš„åŠ è½½æ–¹å¼ã€‚é€šè¿‡ <strong>å›¾æ ‡å­—ä½“æ–‡ä»¶ &amp; css</strong> è¿™ç§æ–¹å¼æ¥å®ç°ã€‚è¿™æ ·åšæœ€æ˜¾è‘—çš„ä¼˜åŠ¿å°±æ˜¯ï¼Œå›¾æ ‡åŠ è½½æ–¹å¼å¾—åˆ°äº†ç®€åŒ–å’Œæ”¾å®½ã€‚</p>
<p>ä»¥font-awesomeä¸ºä¾‹ï¼Œåœ¨å¼•å…¥å›¾æ ‡å­—ä½“æ–‡ä»¶å’Œç›¸å…³cssæ–‡ä»¶çš„åŸºç¡€ä¸Šï¼ŒåŠ è½½å›¾æ ‡åªéœ€ä¸ºæ ‡ç­¾æ·»åŠ classå±æ€§ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">â€˜fa</span> <span class="attr">fa-star</span>â€™&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></div></pre></td></tr></table></figure>
<p>è¿™æ ·å°±ä½¿å¾—svgåŠ è½½éå¸¸çµæ´»å’Œç®€æ´ã€‚ä½†æ˜¯å¦‚ä½•å°†è‡ªå·±è®¾è®¡çš„svgå›¾æ ‡è½¬åŒ–ä¸ºå­—ä½“å›¾æ ‡æ–‡ä»¶ï¼Œå°±ç”¨åˆ°æˆ‘ä»¬æ¥ä¸‹æ¥çš„ä¸€ä¸ªå°æ–¹æ³•ï¼š</p>
<ol>
<li>é¦–å…ˆç™»é™†ä¸€ä¸ªç½‘ç«™ï¼ˆå…è´¹å“’ï¼‰ï¼š <a href="https://icomoon.io/" target="_blank" rel="external">Icon Font &amp; SVG Icon Sets â IcoMoon</a></li>
<li>ç‚¹å‡»å³ä¸Šæ–¹çš„ <strong>IcoMoon App</strong> æŒ‰é’®ï¼›</li>
<li>åœ¨æ–°è½½å…¥é¡µé¢ä¸­ï¼Œç‚¹å‡»å·¦ä¸Šæ–¹çš„ <strong>Import Icons</strong> æŒ‰é’®ï¼Œé€‰æ‹©è‡ªå·±éœ€è¦å¼•å…¥çš„ .svg å›¾æ ‡ï¼›</li>
<li>åœ¨é¢„è§ˆç•Œé¢é€‰ä¸­éœ€è¦åŒ…å«çš„å›¾æ ‡åï¼Œç‚¹å‡»å³ä¸‹æ–¹çš„ Generate Font æŒ‰é’®ï¼›</li>
<li>æ¥ç€å°†é¼ æ ‡ç½®äºæˆ‘ä»¬åŠ è½½çš„å›¾æ ‡ä¸Šæ–¹ï¼Œç‚¹å‡» Get Code æŸ¥çœ‹å¦‚ä½•å¼•å…¥è¿™ä¸ªå›¾æ ‡ï¼ˆçœ‹çœ‹å¤šè´´å¿ƒï¼‰ï¼›</li>
<li>æœ€ådownload ï¼Œå¼•å…¥å­—ä½“æ–‡ä»¶å’Œcssæ–‡ä»¶ã€‚å°±å¯ä»¥è°ƒç”¨å•¦ã€‚</li>
</ol>
<hr>
<p>è¿™åªæ˜¯å®é™…å¼€å‘ä¸­çš„ä¸€ä¸ªå°æŠ€å·§ï¼Œå°æ–¹æ³•ï¼Œåˆ†äº«ç»™è¿˜ä¸çŸ¥é“çš„äººã€‚è°¢è°¢ã€‚å½“ç„¶è§‰å¾—æœ‰ç”¨çš„è¯ï¼Œä¸å¦¨ç‚¹ä¸ªèµé¼“åŠ±ä¸‹ï¼ˆç¾å°„ï¼‰ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä»Šå¤©åˆšåˆšgetåˆ°çš„ä¸€ä¸ªå°æŠ€èƒ½ï¼Œå¿ä¸ä½æƒ³å’Œå¤§å®¶åˆ†äº«ä¸€ä¸‹ï¼Œä¸‡ä¸€æœ‰åŒå­¦ä¸å¤ªæ‡‚ï¼Œåˆšå¥½ä¹Ÿå¯ä»¥å­¦ä¹ ä¸€ä¸‹ï¼ˆpsï¼šçŸ¥é“çš„åŒå­¦å¯ä»¥å¸®æˆ‘æ–§æ­£ï¼Œæ„Ÿè°¢ï¼ï¼‰ã€‚æƒ¯ä¾‹ï¼Œå…ˆæ¥ç®€å•ä»‹ç»ä¸€ä¸‹ svgï¼Œè™½ç„¶ç›¸ä¿¡å¤§å®¶éƒ½æ‡‚ğŸ˜“:&lt;/p&gt;
    
    </summary>
    
    
      <category term="svg" scheme="https://ykloveyxk.github.io/tags/svg/"/>
    
  </entry>
  
  <entry>
    <title>æµ…è°ˆjavascriptåƒåœ¾æ”¶é›†æœºåˆ¶</title>
    <link href="https://ykloveyxk.github.io/2017/01/03/%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86/"/>
    <id>https://ykloveyxk.github.io/2017/01/03/åƒåœ¾æ”¶é›†/</id>
    <published>2017-01-03T00:00:32.000Z</published>
    <updated>2017-01-03T08:28:02.000Z</updated>
    
    <content type="html"><![CDATA[<p>å› ä¸ºå·²ç»ç ”äºŒäº†ï¼Œçœ¼çœ‹å°±è¦æ‰¾å·¥ä½œäº†ï¼Œå¿ƒä¸­å¾ˆå¿å¿‘ã€‚å¥½æ€•é¢è¯•å®˜å½“ä¼—åŠæ‰“æˆ‘ï¼ŒçœŸçš„å¥½æ€•å¥½æ€•â€¦â€¦æ‰€ä»¥æƒ³ç€å¼€ä¸ªåšå®¢ï¼Œæ•´ç†åˆ†äº«ä¸€äº›jsçš„åŸºç¡€çŸ¥è¯†ï¼Œå……å®è‡ªå·±çš„åŒæ—¶ï¼Œä¹Ÿèƒ½åˆ†äº«ç»™éœ€è¦çš„äººã€‚</p>
<hr>
<p>ä»Šå¤©æƒ³è¦åˆ†äº«çš„å°çŸ¥è¯†ï¼Œæ˜¯å…³äºjavascriptçš„åƒåœ¾æ”¶é›†æœºåˆ¶ï¼ˆGC(Garbage Collection) ï¼‰ã€‚<br><a id="more"></a></p>
<h2 id="è‡ªåŠ¨åƒåœ¾æ”¶é›†æœºåˆ¶"><a href="#è‡ªåŠ¨åƒåœ¾æ”¶é›†æœºåˆ¶" class="headerlink" title="è‡ªåŠ¨åƒåœ¾æ”¶é›†æœºåˆ¶"></a>è‡ªåŠ¨åƒåœ¾æ”¶é›†æœºåˆ¶</h2><p>ä¸åŒäºC/C++éœ€è¦ç¼–ç¨‹äººå‘˜æ‰‹åŠ¨è·Ÿè¸ªå†…å­˜çš„ä½¿ç”¨æƒ…å†µï¼Œjavascriptæ‹¥æœ‰ä¸€å¥—<strong>è‡ªåŠ¨åƒåœ¾æ”¶é›†æœºåˆ¶</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æˆ‘ä»¬çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¹¶ä¸ç”¨å»è€ƒè™‘å†…å­˜çš„åˆ†é…å’Œå›æ”¶é—®é¢˜ï¼Œè¿™äº›é—®é¢˜éƒ½ç”±æ‰§è¡Œç¯å¢ƒè´Ÿè´£ï¼Œå®ƒè‡ªåŠ¨ç®¡ç†ä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­å†…å­˜çš„åˆ†é…ä¸å›æ”¶ï¼Œè®©ç¼–ç äººå‘˜èƒ½å°†æ›´å¤šç²¾åŠ›æ”¾åœ¨ä¸šåŠ¡åŠŸèƒ½å®ç°ã€‚è€Œæ‰‹åŠ¨è·Ÿè¸ªå†…å­˜è‡ªèº«ä¹Ÿæœ‰å…¶å¼Šç«¯ï¼Œä¾‹å¦‚å¾ˆç¹çï¼Œå˜é‡æ•°ç›®å¾ˆå¤šæ—¶äººå·¥æ“ä½œå¾ˆå®¹æ˜“é—æ¼ï¼Œé€ æˆèµ„æºæµªè´¹ç­‰ã€‚</p>
<p>è‡ªåŠ¨åƒåœ¾æ”¶é›†æœºåˆ¶ï¼Œå®ƒçš„åŸç†å…¶å®å¾ˆç®€å•ï¼š<br>    <u>ç¡®å®šå˜é‡ä¸­æœ‰å“ªäº›è¿˜åœ¨ä½¿ç”¨ï¼Œå“ªäº›å·²ç»ä¸å†ä½¿ç”¨ï¼Œç„¶ååƒåœ¾æ”¶é›†å™¨ä¼šæŒ‰ç…§å›ºå®šçš„æ—¶é—´é—´éš”å»å‘¨æœŸæ€§çš„é‡Šæ”¾å·²ç»ä¸å†ç»§ç»­ä½¿ç”¨çš„å˜é‡æ‰€å çš„å†…å­˜ã€‚</u></p>
<p>ä½†æ˜¯æ€ä¹ˆç•Œå®šå˜é‡æœ‰æ²¡æœ‰è¢«ä½¿ç”¨ï¼Œå°±éœ€è¦è€ƒè™‘å®ƒçš„ç”Ÿå‘½å‘¨æœŸã€‚ </p>
<h2 id="å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ"></a>å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ</h2><p>åœ¨ä¸è€ƒè™‘å¸è½½é¡µé¢ï¼Œæ³¨é”€ç³»ç»Ÿçš„åŸºç¡€ä¸Šï¼Œå…¨å±€å˜é‡æ˜¯ä¸€ç›´éƒ½ä¼šå­˜åœ¨çš„ï¼Œå› ä¸ºç³»ç»Ÿä¸æ˜ç¡®ä»€ä¹ˆæ—¶å€™è¿˜ä¼šç”¨åˆ°å®ƒï¼Œæ‰€ä»¥å…¨å±€å˜é‡é€šå¸¸ä¸ä¼šè¢«åƒåœ¾æ”¶é›†æœºåˆ¶æ‰€å›æ”¶ã€‚jsé¢è¯•ä¸­çš„å¦ä¸€ä¸ªç‰¹è‰²é—®é¢˜<strong>é—­åŒ…</strong>ä¹‹æ‰€ä»¥èƒ½å¤Ÿåœ¨å‡½æ•°å¤–éƒ¨è¯»å–å‡½æ•°å†…éƒ¨å±€éƒ¨å˜é‡ï¼Œä¿è¯è¯¥å±€éƒ¨å˜é‡ä¸è¢«åƒåœ¾æ”¶é›†å™¨å›æ”¶ï¼Œå°±æ˜¯å› ä¸ºå®šä¹‰äº†ä¸€ä¸ªå¤–éƒ¨å¼•ç”¨ï¼Œä½¿å¾—æ•´ä¸ªå‡½æ•°ä¸å…¨å±€å˜é‡è¿æ¥åœ¨ä¸€èµ·ã€‚ï¼ˆè¯´çš„æ¯”è¾ƒç¬¼ç»Ÿï¼Œä¹‹ååœ¨é—­åŒ…éƒ¨åˆ†è¯¦è¿°ï¼‰</p>
<p>è€Œå±€éƒ¨å˜é‡åªåœ¨å‡½æ•°æ‰§è¡Œçš„è¿‡ç¨‹ä¸­å­˜åœ¨ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¼šä¸ºå±€éƒ¨å˜é‡åˆ†é…å†…å­˜ç©ºé—´ï¼Œç”¨æ¥å‚¨å­˜å®ƒçš„å€¼ã€‚å½“å‡½æ•°ç»“æŸæ—¶ï¼Œå±€éƒ¨å˜é‡å°±å¯ä»¥ç•Œå®šä¸ºä¸å†ç»§ç»­ä½¿ç”¨ï¼Œäºæ˜¯å°±ä¼šé‡Šæ”¾å®ƒçš„å†…å­˜ã€‚ä½†è¿™åªæ˜¯å¾ˆç®€å•çš„ä¸€ç§æƒ…å†µï¼Œéšç€å®ç°çš„ä¸åŒï¼Œåƒåœ¾æ”¶é›†å™¨å¯¹â€œæœ‰ç”¨â€ï¼Œâ€œæ— ç”¨â€çš„æ ‡ç¤ºç­–ç•¥ä¹Ÿä¸åŒï¼Œæ€»ä½“æ¥è¯´ï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§ï¼š</p>
<ol>
<li>æ ‡è®°æ¸…é™¤</li>
<li>å¼•ç”¨è®¡æ•°</li>
</ol>
<h2 id="æ ‡è®°æ¸…é™¤æ³•"><a href="#æ ‡è®°æ¸…é™¤æ³•" class="headerlink" title="æ ‡è®°æ¸…é™¤æ³•"></a>æ ‡è®°æ¸…é™¤æ³•</h2><p>æ ‡è®°æ¸…é™¤æ˜¯javascriptä¸­æœ€å¸¸ç”¨çš„åƒåœ¾æ”¶é›†æœºåˆ¶ã€‚ç®€å•çš„æ¥è¯´å°±æ˜¯ï¼šå˜é‡è¿›å…¥<strong>ç¯å¢ƒ</strong>(å³æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œä¾‹å¦‚å…¨å±€ç¯å¢ƒã€å‡½æ•°ç¯å¢ƒ)ï¼Œæ ‡è®°è¯¥å˜é‡è¿›å…¥ç¯å¢ƒï¼›å‡ºç¯å¢ƒåˆ™æ ‡è®°å˜é‡ç¦»å¼€ç¯å¢ƒã€‚</p>
<p>ç„¶ååƒåœ¾æ”¶é›†å™¨ä¼šä¿ç•™ç¯å¢ƒä¸­çš„å˜é‡å’Œè¢«ç¯å¢ƒä¸­å˜é‡å¼•ç”¨çš„å˜é‡ï¼ˆå…¶å®å°±æ˜¯é—­åŒ…ï¼‰ï¼Œå®šæ—¶å¾ªç¯é‡Šæ”¾é™¤æ­¤ä¹‹å¤–çš„ç¦»å¼€ç¯å¢ƒçš„å˜é‡çš„å†…å­˜ã€‚å¤§å¤šç°ä»£æµè§ˆå™¨éƒ½é‡‡å–è¿™ä¸ªç­–ç•¥è¿›è¡Œåƒåœ¾æ”¶é›†ï¼Œå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«åœ¨äºåƒåœ¾æ”¶é›†å™¨çš„å›æ”¶é—´éš”æ—¶é—´ã€‚</p>
<h2 id="å¼•ç”¨è®¡æ•°æ³•"><a href="#å¼•ç”¨è®¡æ•°æ³•" class="headerlink" title="å¼•ç”¨è®¡æ•°æ³•"></a>å¼•ç”¨è®¡æ•°æ³•</h2><blockquote>
<p>è¦æ˜ç¡®å¼•ç”¨è®¡æ•°æ³•ï¼Œé¦–å…ˆéœ€è¦äº†è§£ä»€ä¹ˆæ˜¯å¼•ç”¨ï¼Ÿ</p>
<p>æ­¤å¤„çš„å¼•ç”¨æ˜¯æŒ‡ä¸€ä¸ªå¯¹è±¡å¯¹å¦ä¸€ä¸ªå¯¹è±¡çš„è®¿é—®æƒé™ï¼Œå¯ä»¥è®¿é—®ï¼Œåˆ™è¡¨ç¤ºè¿™ä¸ªå¯¹è±¡å¼•ç”¨å¦ä¸€ä¸ªå¯¹è±¡ã€‚</p>
</blockquote>
<p>å¼•ç”¨è®¡æ•°æ³•å¹¶ä¸å¸¸ç”¨ï¼Œå‡ºç°åœ¨IEæ—©æœŸï¼Œå®ƒçš„åŸç†ä¹Ÿå¾ˆç®€å•ï¼šè·Ÿè¸ªæ¯ä¸ªå€¼è¢«å¼•ç”¨çš„æ¬¡æ•°ï¼Œå½“å£°æ˜å˜é‡å¹¶èµ‹ç»™ä»–ä¸€ä¸ªå¼•ç”¨ç±»å‹çš„å€¼æ—¶ï¼Œåˆ™è¯¥å€¼å¼•ç”¨æ¬¡æ•°ä¸º1ï¼Œå°†å…¶èµ‹ç»™å¦ä¸€ä¸ªå˜é‡æ—¶ï¼Œå¼•ç”¨æ¬¡æ•°å°±å˜ä¸º2ï¼Œä»¥æ­¤ç±»æ¨ï¼›ç›¸åï¼Œå¦‚æœå¼•ç”¨è¿™ä¸ªå€¼çš„é‚£ä¸ªå˜é‡å¼•ç”¨äº†åˆ«çš„å€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªå€¼çš„å¼•ç”¨æ¬¡æ•°å°±å‡1ï¼Œå½“ç„¶æ–°å¼•ç”¨çš„é‚£ä¸ªå€¼çš„æ¬¡æ•°åŠ 1ã€‚æœ€åï¼Œå½“æ¬¡æ•°å˜ä¸º0æ—¶ï¼Œåˆ™é»˜è®¤æ”¹å€¼å·²ä¸å†è¢«éœ€è¦ï¼Œå°±ä¼šè¢«å›æ”¶å™¨å›æ”¶ã€‚</p>
<p>ä½†æ˜¯è¯¥æ–¹æ³•æœ‰ä¸€ä¸ªå·¨å¤§ç¼ºé™·ï¼Œå°±æ˜¯å®ƒå­˜åœ¨å¾ªç¯å¼•ç”¨ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">referenceCount</span>(<span class="params"></span>) </span>&#123;</div><div class="line">	<span class="keyword">var</span> variable_a = &#123;&#125;;</div><div class="line">	<span class="keyword">var</span> variable_b = &#123;&#125;;</div><div class="line">	variable_a.prop = variable_b;</div><div class="line">	variable_b.prop = variable_a;</div><div class="line">&#125;</div><div class="line">referenceCount();</div></pre></td></tr></table></figure></p>
<p>æ­¤æ—¶variable_a, variable_bé€šè¿‡å„è‡ªå±æ€§ç›¸äº’å¼•ç”¨ï¼Œä½†æ˜¯å‡½æ•°å·²ç»æ‰§è¡Œå®Œæ¯•ï¼Œæœ¬æ¥åº”è¯¥å°†è¿™ä¸¤ä¸ªå¯¹è±¡æ‰€å å†…å­˜é‡Šæ”¾ï¼Œä½†åœ¨å¼•ç”¨è®¡æ•°æ³•ä¸­å®ƒä»¬ä¸ä¼šè¢«å›æ”¶ã€‚</p>
<hr>
<p>ä»¥ä¸Šï¼Œå°±æ˜¯å…³äºjavascriptä¸­åƒåœ¾æ”¶é›†æœºåˆ¶çš„ä¸€äº›ç®€å•ä»‹ç»ã€‚è™½ç„¶å®ƒå¯èƒ½å¯¹æˆ‘ä»¬å®é™…ç¼–ç¨‹æ„ä¹‰ä¸å¤§ï¼Œä½†æ˜¯å¯¹æˆ‘ä»¬äº†è§£javascriptè¿™é—¨è¯­è¨€çš„è¿è¡Œæœºåˆ¶ï¼Œè¿˜æ˜¯å¾ˆæœ‰å¸®åŠ©çš„ã€‚å› ä¸ºæˆ‘ä¹Ÿæ˜¯å‰ç«¯å±Šçš„å°å­¦ç”Ÿï¼Œå¦‚æœ‰é—®é¢˜ï¼Œå¸Œæœ›å¤§å®¶ä¸¥å‰æŒ‡å‡ºï¼Œè°¢è°¢ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å› ä¸ºå·²ç»ç ”äºŒäº†ï¼Œçœ¼çœ‹å°±è¦æ‰¾å·¥ä½œäº†ï¼Œå¿ƒä¸­å¾ˆå¿å¿‘ã€‚å¥½æ€•é¢è¯•å®˜å½“ä¼—åŠæ‰“æˆ‘ï¼ŒçœŸçš„å¥½æ€•å¥½æ€•â€¦â€¦æ‰€ä»¥æƒ³ç€å¼€ä¸ªåšå®¢ï¼Œæ•´ç†åˆ†äº«ä¸€äº›jsçš„åŸºç¡€çŸ¥è¯†ï¼Œå……å®è‡ªå·±çš„åŒæ—¶ï¼Œä¹Ÿèƒ½åˆ†äº«ç»™éœ€è¦çš„äººã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;ä»Šå¤©æƒ³è¦åˆ†äº«çš„å°çŸ¥è¯†ï¼Œæ˜¯å…³äºjavascriptçš„åƒåœ¾æ”¶é›†æœºåˆ¶ï¼ˆGC(Garbage Collection) ï¼‰ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="javascript" scheme="https://ykloveyxk.github.io/tags/javascript/"/>
    
  </entry>
  
</feed>
